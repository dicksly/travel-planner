<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ—…è¡Œè§„åˆ’åŠ©æ‰‹ - è°ƒè¯•æ¨¡å¼</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 40px;
            background: #f5f5f5;
        }
        .debug-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .status-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .status-good { border-left: 4px solid #28a745; }
        .status-warning { border-left: 4px solid #ffc107; }
        .status-error { border-left: 4px solid #dc3545; }
        .test-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        .test-btn:hover {
            background: #0056b3;
        }
        .log-output {
            background: #1a1a1a;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        .quick-form {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .form-row {
            margin: 10px 0;
        }
        .form-row label {
            display: inline-block;
            width: 120px;
            font-weight: bold;
        }
        .form-row input, .form-row select {
            width: 200px;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="debug-container">
        <h1>ğŸ”§ AIæ—…è¡Œè§„åˆ’åŠ©æ‰‹ - è°ƒè¯•æ¨¡å¼</h1>
        
        <div class="status-card status-good">
            <h3>âœ… ç³»ç»ŸçŠ¶æ€æ£€æŸ¥</h3>
            <p>é…ç½®æ–‡ä»¶åŠ è½½: <span id="config-status">æ£€æŸ¥ä¸­...</span></p>
            <p>å½“å‰æ¨¡å¼: <span id="ai-mode">æ£€æŸ¥ä¸­...</span></p>
            <p>è°ƒè¯•æ—¥å¿—: <span id="debug-status">æ£€æŸ¥ä¸­...</span></p>
        </div>

        <div class="quick-form">
            <h3>ğŸš€ å¿«é€Ÿæµ‹è¯•è¡¨å•</h3>
            <div class="form-row">
                <label>å‡ºå‘åœ°:</label>
                <input type="text" id="quick-departure" value="åŒ—äº¬" />
            </div>
            <div class="form-row">
                <label>ç›®çš„åœ°:</label>
                <input type="text" id="quick-destination" value="ä¸Šæµ·" />
            </div>
            <div class="form-row">
                <label>å¤©æ•°:</label>
                <input type="number" id="quick-days" value="3" min="1" max="30" />
            </div>
            <div class="form-row">
                <label>äººæ•°:</label>
                <input type="number" id="quick-people" value="2" min="1" max="10" />
            </div>
            <div class="form-row">
                <label>é¢„ç®—:</label>
                <select id="quick-budget">
                    <option value="1000">Â¥500-1000</option>
                    <option value="5000" selected>Â¥1000-5000</option>
                    <option value="10000">Â¥5000-10000</option>
                    <option value="unlimited">Â¥10000ä»¥ä¸Š</option>
                </select>
            </div>
            <button class="test-btn" onclick="runQuickTest()">ğŸ¯ å¿«é€Ÿæµ‹è¯•</button>
            <button class="test-btn" onclick="clearLog()">ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—</button>
        </div>

        <div class="status-card">
            <h3>ğŸ“Š å®æ—¶æ—¥å¿—</h3>
            <div id="log-output" class="log-output">ç­‰å¾…æµ‹è¯•...</div>
        </div>

        <div class="status-card">
            <h3>ğŸ”— æ“ä½œæŒ‰é’®</h3>
            <button class="test-btn" onclick="openMainApp()">ğŸ  æ‰“å¼€ä¸»åº”ç”¨</button>
            <button class="test-btn" onclick="toggleAIMode()">ğŸ¤– åˆ‡æ¢AIæ¨¡å¼</button>
            <button class="test-btn" onclick="testConfig()">âš™ï¸ æµ‹è¯•é…ç½®</button>
        </div>
    </div>

    <script src="config.js"></script>
    <script>
        // åˆå§‹åŒ–çŠ¶æ€æ£€æŸ¥
        function initStatusCheck() {
            // æ£€æŸ¥é…ç½®æ–‡ä»¶
            if (typeof CONFIG !== 'undefined') {
                document.getElementById('config-status').textContent = 'æ­£å¸¸åŠ è½½';
                document.getElementById('ai-mode').textContent = CONFIG.APP.enableRealAI ? 'çœŸå®AIæ¨¡å¼' : 'æ¼”ç¤ºæ¨¡å¼';
                document.getElementById('debug-status').textContent = CONFIG.DEBUG.enableLogging ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨';
            } else {
                document.getElementById('config-status').textContent = 'åŠ è½½å¤±è´¥';
                document.getElementById('ai-mode').textContent = 'æ— æ³•ç¡®å®š';
                document.getElementById('debug-status').textContent = 'æ— æ³•ç¡®å®š';
            }
        }

        // æ—¥å¿—è¾“å‡º
        function log(message) {
            const logOutput = document.getElementById('log-output');
            const timestamp = new Date().toLocaleTimeString();
            logOutput.textContent += `[${timestamp}] ${message}\n`;
            logOutput.scrollTop = logOutput.scrollHeight;
        }

        // æ¸…ç©ºæ—¥å¿—
        function clearLog() {
            document.getElementById('log-output').textContent = '';
        }

        // å¿«é€Ÿæµ‹è¯•
        function runQuickTest() {
            const departure = document.getElementById('quick-departure').value;
            const destination = document.getElementById('quick-destination').value;
            const days = document.getElementById('quick-days').value;
            const people = document.getElementById('quick-people').value;
            const budget = document.getElementById('quick-budget').value;

            log(`ğŸš€ å¼€å§‹å¿«é€Ÿæµ‹è¯•`);
            log(`å‡ºå‘åœ°: ${departure}`);
            log(`ç›®çš„åœ°: ${destination}`);
            log(`å¤©æ•°: ${days} å¤©`);
            log(`äººæ•°: ${people} äºº`);
            log(`é¢„ç®—: ${budget}`);
            log(`AIæ¨¡å¼: ${CONFIG.APP.enableRealAI ? 'çœŸå®AI' : 'æ¼”ç¤ºæ¨¡å¼'}`);
            
            // æ¨¡æ‹Ÿå¤„ç†è¿‡ç¨‹
            setTimeout(() => {
                log(`âœ… è¡¨å•éªŒè¯é€šè¿‡`);
                log(`ğŸ”„ å¼€å§‹AIå¤„ç†æµç¨‹...`);
                
                if (CONFIG.APP.enableRealAI) {
                    log(`ğŸ¤– è°ƒç”¨çœŸå®AI API`);
                    log(`âš ï¸ æ³¨æ„: éœ€è¦æœ‰æ•ˆçš„APIå¯†é’¥`);
                } else {
                    log(`ğŸ­ ä½¿ç”¨æ¼”ç¤ºæ¨¡å¼`);
                    log(`âœ¨ æ¨¡æ‹ŸAIå¤„ç†å®Œæˆ`);
                }
                
                setTimeout(() => {
                    log(`ğŸ‰ æµ‹è¯•å®Œæˆï¼`);
                    log(`ğŸ’¡ å»ºè®®: åœ¨ä¸»åº”ç”¨ä¸­æŸ¥çœ‹å®Œæ•´æ•ˆæœ`);
                }, 1000);
            }, 500);
        }

        // æ‰“å¼€ä¸»åº”ç”¨
        function openMainApp() {
            window.open('index.html', '_blank');
        }

        // åˆ‡æ¢AIæ¨¡å¼
        function toggleAIMode() {
            const currentMode = CONFIG.APP.enableRealAI;
            const newMode = !currentMode;
            
            log(`ğŸ”„ åˆ‡æ¢AIæ¨¡å¼: ${currentMode ? 'çœŸå®AI' : 'æ¼”ç¤º'} â†’ ${newMode ? 'çœŸå®AI' : 'æ¼”ç¤º'}`);
            log(`âš ï¸ æ³¨æ„: éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ config.js æ–‡ä»¶ä¸­çš„ enableRealAI è®¾ç½®`);
            log(`ğŸ“ é…ç½®æ–‡ä»¶è·¯å¾„: config.js`);
            log(`ğŸ”§ ä¿®æ”¹: enableRealAI: ${newMode}`);
        }

        // æµ‹è¯•é…ç½®
        function testConfig() {
            log(`ğŸ”§ é…ç½®æµ‹è¯•å¼€å§‹`);
            log(`APIç«¯ç‚¹: ${CONFIG.COZE_API.endpoint}`);
            log(`Bot ID: ${CONFIG.COZE_API.bot_id}`);
            log(`Token: ${CONFIG.COZE_API.token.substring(0, 10)}...`);
            log(`å¯ç”¨çœŸå®AI: ${CONFIG.APP.enableRealAI}`);
            log(`æ‰“å­—æœºé€Ÿåº¦: ${CONFIG.APP.typewriterSpeed}ms`);
            log(`è°ƒè¯•æ—¥å¿—: ${CONFIG.DEBUG.enableLogging}`);
            log(`âœ… é…ç½®æµ‹è¯•å®Œæˆ`);
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initStatusCheck();
            log('ğŸ¯ è°ƒè¯•æ¨¡å¼å·²å¯åŠ¨');
            log('ğŸ’¡ ä½¿ç”¨å¿«é€Ÿæµ‹è¯•éªŒè¯åŠŸèƒ½');
        });
    </script>
</body>
</html> 